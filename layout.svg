<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="590px" preserveAspectRatio="none" style="width:548px;height:590px;" version="1.1" viewBox="0 0 548 590" width="548px" zoomAndPan="magnify"><defs><filter height="300%" id="f98kwahhg124y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster docker--><path d="M261.5,23 C261.5,20 263.5,18 266.5,18 C269.5,18 271.5,20 271.5,23 C271.5,20 273.5,18 276.5,18 C279.5,18 281.5,20 281.5,23 C281.5,20 283.5,18 286.5,18 C289.5,18 291.5,20 291.5,23 C291.5,20 293.5,18 296.5,18 C299.5,18 301.5,20 301.5,23 C301.5,20 303.5,18 306.5,18 C309.5,18 311.5,20 311.5,23 C311.5,20 313.5,18 316.5,18 C319.5,18 321.5,20 321.5,23 C321.5,20 323.5,18 326.5,18 C329.5,18 331.5,20 331.5,23 C331.5,20 333.5,18 336.5,18 C339.5,18 341.5,20 341.5,23 C341.5,20 343.5,18 346.5,18 C349.5,18 351.5,20 351.5,23 C351.5,20 353.5,18 356.5,18 C359.5,18 361.5,20 361.5,23 C361.5,20 363.5,18 366.5,18 C369.5,18 371.5,20 371.5,23 C371.5,20 373.5,18 376.5,18 C379.5,18 381.5,20 381.5,23 C381.5,20 383.5,18 386.5,18 C389.5,18 391.5,20 391.5,23 C391.5,20 393.5,18 396.5,18 C399.5,18 401.5,20 401.5,23 C401.5,20 403.5,18 406.5,18 C409.5,18 411.5,20 411.5,23 C411.5,20 413.5,18 416.5,18 C419.5,18 421.5,20 421.5,23 C421.5,20 423.5,18 426.5,18 C429.5,18 431.5,20 431.5,23 C431.5,20 433.5,18 436.5,18 C439.5,18 441.5,20 441.5,23 C441.5,20 443.5,18 446.5,18 C449.5,18 451.5,20 451.5,23 C451.5,20 453.5,18 456.5,18 C459.5,18 461.5,20 461.5,23 C461.5,20 463.5,18 466.5,18 C469.5,18 471.5,20 471.5,23 C471.5,20 473.5,18 476.5,18 C479.5,18 481.5,20 481.5,23 C481.5,20 483.5,18 486.5,18 C489.5,18 491.5,20 491.5,23 C491.5,20 493.5,18 496.5,18 C499.5,18 501.5,20 501.5,23 C501.5,20 503.5,18 506.5,18 C509.5,18 511.5,20 511.5,23 C511.5,20 513.5,18 516.5,18 C519.5,18 521.5,20 521.5,23 C521.5,20 523.5,18 526.5,18 C529.5,18 531.5,20 531.5,23 C534.5,23 536.5,25 536.5,28 C536.5,31 534.5,33 531.5,33 C534.5,33 536.5,35 536.5,38 C536.5,41 534.5,43 531.5,43 C534.5,43 536.5,45 536.5,48 C536.5,51 534.5,53 531.5,53 C534.5,53 536.5,55 536.5,58 C536.5,61 534.5,63 531.5,63 C534.5,63 536.5,65 536.5,68 C536.5,71 534.5,73 531.5,73 C534.5,73 536.5,75 536.5,78 C536.5,81 534.5,83 531.5,83 C534.5,83 536.5,85 536.5,88 C536.5,91 534.5,93 531.5,93 C534.5,93 536.5,95 536.5,98 C536.5,101 534.5,103 531.5,103 C534.5,103 536.5,105 536.5,108 C536.5,111 534.5,113 531.5,113 C534.5,113 536.5,115 536.5,118 C536.5,121 534.5,123 531.5,123 C534.5,123 536.5,125 536.5,128 C536.5,131 534.5,133 531.5,133 C534.5,133 536.5,135 536.5,138 C536.5,141 534.5,143 531.5,143 C534.5,143 536.5,145 536.5,148 C536.5,151 534.5,153 531.5,153 C534.5,153 536.5,155 536.5,158 C536.5,161 534.5,163 531.5,163 C534.5,163 536.5,165 536.5,168 C536.5,171 534.5,173 531.5,173 C534.5,173 536.5,175 536.5,178 C536.5,181 534.5,183 531.5,183 C534.5,183 536.5,185 536.5,188 C536.5,191 534.5,193 531.5,193 C534.5,193 536.5,195 536.5,198 C536.5,201 534.5,203 531.5,203 C534.5,203 536.5,205 536.5,208 C536.5,211 534.5,213 531.5,213 C534.5,213 536.5,215 536.5,218 C536.5,221 534.5,223 531.5,223 C534.5,223 536.5,225 536.5,228 C536.5,231 534.5,233 531.5,233 C534.5,233 536.5,235 536.5,238 C536.5,241 534.5,243 531.5,243 C534.5,243 536.5,245 536.5,248 C536.5,251 534.5,253 531.5,253 C534.5,253 536.5,255 536.5,258 C536.5,261 534.5,263 531.5,263 C534.5,263 536.5,265 536.5,268 C536.5,271 534.5,273 531.5,273 C534.5,273 536.5,275 536.5,278 C536.5,281 534.5,283 531.5,283 C534.5,283 536.5,285 536.5,288 C536.5,291 534.5,293 531.5,293 C534.5,293 536.5,295 536.5,298 C536.5,301 534.5,303 531.5,303 C534.5,303 536.5,305 536.5,308 C536.5,311 534.5,313 531.5,313 C534.5,313 536.5,315 536.5,318 C536.5,321 534.5,323 531.5,323 C534.5,323 536.5,325 536.5,328 C536.5,331 534.5,333 531.5,333 C534.5,333 536.5,335 536.5,338 C536.5,341 534.5,343 531.5,343 C534.5,343 536.5,345 536.5,348 C536.5,351 534.5,353 531.5,353 C534.5,353 536.5,355 536.5,358 C536.5,361 534.5,363 531.5,363 C534.5,363 536.5,365 536.5,368 C536.5,371 534.5,373 531.5,373 C534.5,373 536.5,375 536.5,378 C536.5,381 534.5,383 531.5,383 C534.5,383 536.5,385 536.5,388 C536.5,391 534.5,393 531.5,393 C534.5,393 536.5,395 536.5,398 C536.5,401 534.5,403 531.5,403 C534.5,403 536.5,405 536.5,408 C536.5,411 534.5,413 531.5,413 C534.5,413 536.5,415 536.5,418 C536.5,421 534.5,423 531.5,423 C534.5,423 536.5,425 536.5,428 C536.5,431 534.5,433 531.5,433 C534.5,433 536.5,435 536.5,438 C536.5,441 534.5,443 531.5,443 C534.5,443 536.5,445 536.5,448 C536.5,451 534.5,453 531.5,453 C534.5,453 536.5,455 536.5,458 C536.5,461 534.5,463 531.5,463 C534.5,463 536.5,465 536.5,468 C536.5,471 534.5,473 531.5,473 C534.5,473 536.5,475 536.5,478 C536.5,481 534.5,483 531.5,483 C534.5,483 536.5,485 536.5,488 C536.5,491 534.5,493 531.5,493 C534.5,493 536.5,495 536.5,498 C536.5,501 534.5,503 531.5,503 C534.5,503 536.5,505 536.5,508 C536.5,511 534.5,513 531.5,513 C534.5,513 536.5,515 536.5,518 C536.5,521 534.5,523 531.5,523 C534.5,523 536.5,525 536.5,528 C536.5,531 534.5,533 531.5,533 C534.5,533 536.5,535 536.5,538 C536.5,541 534.5,543 531.5,543 C534.5,543 536.5,545 536.5,548 C536.5,551 534.5,553 531.5,553 C534.5,553 536.5,555 536.5,558 C536.5,561 534.5,563 531.5,563 C534.5,563 536.5,565 536.5,568 C536.5,571 534.5,573 531.5,573 C531.5,576 528.5,578 526.5,578 C523.5,578 521.5,576 521.5,573 C521.5,576 518.5,578 516.5,578 C513.5,578 511.5,576 511.5,573 C511.5,576 508.5,578 506.5,578 C503.5,578 501.5,576 501.5,573 C501.5,576 498.5,578 496.5,578 C493.5,578 491.5,576 491.5,573 C491.5,576 488.5,578 486.5,578 C483.5,578 481.5,576 481.5,573 C481.5,576 478.5,578 476.5,578 C473.5,578 471.5,576 471.5,573 C471.5,576 468.5,578 466.5,578 C463.5,578 461.5,576 461.5,573 C461.5,576 458.5,578 456.5,578 C453.5,578 451.5,576 451.5,573 C451.5,576 448.5,578 446.5,578 C443.5,578 441.5,576 441.5,573 C441.5,576 438.5,578 436.5,578 C433.5,578 431.5,576 431.5,573 C431.5,576 428.5,578 426.5,578 C423.5,578 421.5,576 421.5,573 C421.5,576 418.5,578 416.5,578 C413.5,578 411.5,576 411.5,573 C411.5,576 408.5,578 406.5,578 C403.5,578 401.5,576 401.5,573 C401.5,576 398.5,578 396.5,578 C393.5,578 391.5,576 391.5,573 C391.5,576 388.5,578 386.5,578 C383.5,578 381.5,576 381.5,573 C381.5,576 378.5,578 376.5,578 C373.5,578 371.5,576 371.5,573 C371.5,576 368.5,578 366.5,578 C363.5,578 361.5,576 361.5,573 C361.5,576 358.5,578 356.5,578 C353.5,578 351.5,576 351.5,573 C351.5,576 348.5,578 346.5,578 C343.5,578 341.5,576 341.5,573 C341.5,576 338.5,578 336.5,578 C333.5,578 331.5,576 331.5,573 C331.5,576 328.5,578 326.5,578 C323.5,578 321.5,576 321.5,573 C321.5,576 318.5,578 316.5,578 C313.5,578 311.5,576 311.5,573 C311.5,576 308.5,578 306.5,578 C303.5,578 301.5,576 301.5,573 C301.5,576 298.5,578 296.5,578 C293.5,578 291.5,576 291.5,573 C291.5,576 288.5,578 286.5,578 C283.5,578 281.5,576 281.5,573 C281.5,576 278.5,578 276.5,578 C273.5,578 271.5,576 271.5,573 C271.5,576 268.5,578 266.5,578 C263.5,578 261.5,576 261.5,573 C258.5,573 256.5,571 256.5,568 C256.5,565 258.5,563 261.5,563 C258.5,563 256.5,561 256.5,558 C256.5,555 258.5,553 261.5,553 C258.5,553 256.5,551 256.5,548 C256.5,545 258.5,543 261.5,543 C258.5,543 256.5,541 256.5,538 C256.5,535 258.5,533 261.5,533 C258.5,533 256.5,531 256.5,528 C256.5,525 258.5,523 261.5,523 C258.5,523 256.5,521 256.5,518 C256.5,515 258.5,513 261.5,513 C258.5,513 256.5,511 256.5,508 C256.5,505 258.5,503 261.5,503 C258.5,503 256.5,501 256.5,498 C256.5,495 258.5,493 261.5,493 C258.5,493 256.5,491 256.5,488 C256.5,485 258.5,483 261.5,483 C258.5,483 256.5,481 256.5,478 C256.5,475 258.5,473 261.5,473 C258.5,473 256.5,471 256.5,468 C256.5,465 258.5,463 261.5,463 C258.5,463 256.5,461 256.5,458 C256.5,455 258.5,453 261.5,453 C258.5,453 256.5,451 256.5,448 C256.5,445 258.5,443 261.5,443 C258.5,443 256.5,441 256.5,438 C256.5,435 258.5,433 261.5,433 C258.5,433 256.5,431 256.5,428 C256.5,425 258.5,423 261.5,423 C258.5,423 256.5,421 256.5,418 C256.5,415 258.5,413 261.5,413 C258.5,413 256.5,411 256.5,408 C256.5,405 258.5,403 261.5,403 C258.5,403 256.5,401 256.5,398 C256.5,395 258.5,393 261.5,393 C258.5,393 256.5,391 256.5,388 C256.5,385 258.5,383 261.5,383 C258.5,383 256.5,381 256.5,378 C256.5,375 258.5,373 261.5,373 C258.5,373 256.5,371 256.5,368 C256.5,365 258.5,363 261.5,363 C258.5,363 256.5,361 256.5,358 C256.5,355 258.5,353 261.5,353 C258.5,353 256.5,351 256.5,348 C256.5,345 258.5,343 261.5,343 C258.5,343 256.5,341 256.5,338 C256.5,335 258.5,333 261.5,333 C258.5,333 256.5,331 256.5,328 C256.5,325 258.5,323 261.5,323 C258.5,323 256.5,321 256.5,318 C256.5,315 258.5,313 261.5,313 C258.5,313 256.5,311 256.5,308 C256.5,305 258.5,303 261.5,303 C258.5,303 256.5,301 256.5,298 C256.5,295 258.5,293 261.5,293 C258.5,293 256.5,291 256.5,288 C256.5,285 258.5,283 261.5,283 C258.5,283 256.5,281 256.5,278 C256.5,275 258.5,273 261.5,273 C258.5,273 256.5,271 256.5,268 C256.5,265 258.5,263 261.5,263 C258.5,263 256.5,261 256.5,258 C256.5,255 258.5,253 261.5,253 C258.5,253 256.5,251 256.5,248 C256.5,245 258.5,243 261.5,243 C258.5,243 256.5,241 256.5,238 C256.5,235 258.5,233 261.5,233 C258.5,233 256.5,231 256.5,228 C256.5,225 258.5,223 261.5,223 C258.5,223 256.5,221 256.5,218 C256.5,215 258.5,213 261.5,213 C258.5,213 256.5,211 256.5,208 C256.5,205 258.5,203 261.5,203 C258.5,203 256.5,201 256.5,198 C256.5,195 258.5,193 261.5,193 C258.5,193 256.5,191 256.5,188 C256.5,185 258.5,183 261.5,183 C258.5,183 256.5,181 256.5,178 C256.5,175 258.5,173 261.5,173 C258.5,173 256.5,171 256.5,168 C256.5,165 258.5,163 261.5,163 C258.5,163 256.5,161 256.5,158 C256.5,155 258.5,153 261.5,153 C258.5,153 256.5,151 256.5,148 C256.5,145 258.5,143 261.5,143 C258.5,143 256.5,141 256.5,138 C256.5,135 258.5,133 261.5,133 C258.5,133 256.5,131 256.5,128 C256.5,125 258.5,123 261.5,123 C258.5,123 256.5,121 256.5,118 C256.5,115 258.5,113 261.5,113 C258.5,113 256.5,111 256.5,108 C256.5,105 258.5,103 261.5,103 C258.5,103 256.5,101 256.5,98 C256.5,95 258.5,93 261.5,93 C258.5,93 256.5,91 256.5,88 C256.5,85 258.5,83 261.5,83 C258.5,83 256.5,81 256.5,78 C256.5,75 258.5,73 261.5,73 C258.5,73 256.5,71 256.5,68 C256.5,65 258.5,63 261.5,63 C258.5,63 256.5,61 256.5,58 C256.5,55 258.5,53 261.5,53 C258.5,53 256.5,51 256.5,48 C256.5,45 258.5,43 261.5,43 C258.5,43 256.5,41 256.5,38 C256.5,35 258.5,33 261.5,33 C258.5,33 256.5,31 256.5,28 C256.5,25 258.5,23 261.5,23 " fill="#FFFFFF" filter="url(#f98kwahhg124y)" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="342" y="42.5352">Docker for Mac</text><!--entity front--><rect fill="#FEFECE" filter="url(#f98kwahhg124y)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="266.5" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="240" x="276.5" y="66.5352">Front container (OpenResty/nginx)</text><!--entity envoy--><rect fill="#FEFECE" filter="url(#f98kwahhg124y)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="295" y="218"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="305" y="241.5352">Envoy container</text><!--entity backend--><rect fill="#FEFECE" filter="url(#f98kwahhg124y)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="224" x="284.5" y="533"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="204" x="294.5" y="556.5352">Busy loop service (OpenResty)</text><!--entity bench--><rect fill="#FEFECE" filter="url(#f98kwahhg124y)" height="36.4883" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="6" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="171" x="16" y="66.5352">Benchmark App (Gatling)</text><!--link bench to front--><path d="M197.278,61 C217.6816,61 239.5969,61 261.1631,61 " fill="none" id="bench-front" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="266.3423,61,257.3423,57,261.3423,61,257.3423,65,266.3423,61" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="215.25" y="54.5684">HTTP</text><!--link front to envoy--><path d="M392.6797,79.0689 C385.922,111.0312 371.8708,177.4894 364.4067,212.7924 " fill="none" id="front-envoy" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="363.3549,217.7672,369.1301,209.7893,364.3892,212.8753,361.3031,208.1344,363.3549,217.7672" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="380.5" y="153.5684">via envoy</text><!--link front to backend--><path d="M420.3312,79.0612 C438.5273,95.0803 460.5,120.2688 460.5,148.5 C460.5,148.5 460.5,148.5 460.5,471.5 C460.5,494.695 443.7652,514.9561 427.4103,529.2188 " fill="none" id="front-backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="423.2709,532.7138,432.7281,529.9639,427.0913,529.4881,427.567,523.8513,423.2709,532.7138" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="461.5" y="328.5684">direct</text><!--link envoy to backend--><path d="M360.1549,254.096 C360.7382,271.7883 361.5,299.492 361.5,323.5 C361.5,323.5 361.5,323.5 361.5,471.5 C361.5,491.8633 371.2377,512.8632 380.4405,528.1627 " fill="none" id="envoy-backend" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="383.268,532.7208,381.9229,522.9642,380.6323,528.4719,375.1247,527.1813,383.268,532.7208" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="362.5" y="406.5684">via envoy</text><!--
@startuml

agent bench as "Benchmark App (Gatling)"

cloud docker as "Docker for Mac" {
  agent front as "Front container (OpenResty/nginx)"
  agent envoy as "Envoy container"
  agent backend as "Busy loop service (OpenResty)"
}

bench -> front : HTTP
front - -> envoy : "via envoy"
front - - -> backend : "direct"
envoy - - -> backend : "via envoy"

@enduml

PlantUML version 1.2018.01(Mon Jan 29 03:08:22 JST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1248-b8
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>